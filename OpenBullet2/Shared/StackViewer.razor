@inject Microsoft.Extensions.Localization.IStringLocalizer<StackViewer> Loc

<div class="list-group list-group-horizontal">
    <button class="btn btn-sm btn-outline-success d-xl-none" @onclick="AddBlock"><span class="oi oi-plus"></span> @Loc["Add"]</button>
    <button class="btn btn-sm btn-outline-danger ml-xl-0" @onclick="DeleteSelectedBlock"><span class="oi oi-x"></span> @Loc["Delete"]</button>
    <button class="btn btn-sm btn-outline-primary" @onclick="MoveBlockUp"><span class="oi oi-arrow-top"></span> @Loc["Up"]</button>
    <button class="btn btn-sm btn-outline-primary" @onclick="MoveBlockDown"><span class="oi oi-arrow-bottom"></span> @Loc["Down"]</button>
</div>
<div class="list-group list-group-horizontal">
    <button class="btn btn-sm btn-outline-secondary" @onclick="CloneBlock"><span class="oi oi-layers"></span> @Loc["Clone"]</button>
    <button class="btn btn-sm btn-outline-secondary" @onclick="DisableBlock"><span class="oi oi-ban"></span> @Loc[selectedBlock != null && selectedBlock.Disabled ? "Enable" : "Disable"]</button>
    <button class="btn btn-sm btn-outline-secondary" @onclick="Undo"><span class="oi oi-action-undo"></span> @Loc["Undo"]</button>
</div>

<div style="height: 700px; overflow-y: auto">
    @foreach (var block in Stack)
    {
        <div draggable="true" class="card"
             style="background-color: @(block.Disabled ? "#666" : block.Descriptor.Category.BackgroundColor);
             color: @block.Descriptor.Category.ForegroundColor; 
             cursor: pointer; border: solid 3px @(block == selectedBlock ? "var(--fg-primary)" : "var(--bg-secondary)"); text-align: center; font-size: 20px;"
             @ondragstart="@(() => HandleDragStart(block))"
             @ondragover="@(() => HandleDragOver(block))"
             @onclick="@(() => SelectBlock(block))">
            <div class="card-body">
                <span class="card-text @(block == selectedBlock ? "font-weight-bold" : "")"
                      style="color: @block.Descriptor.Category.ForegroundColor;">
                    @block.Label
                </span>
            </div>
        </div>
    }
</div>
